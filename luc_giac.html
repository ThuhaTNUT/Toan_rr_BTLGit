<html>
<head>
<title>Lục giác thần bí</title>
<script>
const n=19
var x=[] // khai báo mảng X
var m=[] // mảng đánh dấu những số đã dùng
var stt
function init(){
  for(var i = 1; i<=n ; i++)
  {
  	m[i]=0 //chưa dùng ô thứ i
  	x[i]=0 //ô thứ i: chưa điền số nào
  }
  stt=0
}
function f(i){
  for(var so = 1; so<=n; so++)
  {
  	if(m[so]==0){ // chưa dùng
  	  x[i]=so    //điền vào ô i giá trị so
  	  m[so]=1    //đánh dấu đã dùng nó
  	  if(check_ok(i)){
  	    if(i==n)
  	      show_kq()
  	    else
  	      f(i+1)
  	  }
  	  x[i]=0
  	  m[so]=0
    }
  }
}
const v=[
			[9,10,11],
			[8,12,17,18],
			[1,7,13,16,19],
			[2,6,14,15],
			[3,4,5],
			[1,2,3],
			[4,12,13,14],
			[5,11,15,18,19],
			[6,10,16,17],
			[7,8,9],
			[1,11,12],
			[2,10,13,18],
			[3,9,14,17,19],
			[4,8,15,16],
			[5,6,7],
		]
function check_ok(k){
  for(var mang of v){
	var sum=0, isFull=1
	for(var i of mang){
	  if(i<=k){
	    sum += x[i]
	    if(x[i]==0)isFull=0
	  }else{
	    isFull=0
	  }
	}
	//console.log([k,mang,isFull,sum])
	if(sum>38)return false
	if(isFull){
	  if(sum!=38)return false
	}else
	  if(sum>=38)return false
  }
  return true
}

function show_kq(){
  var loigiai = 'Nghiệm thứ '+ ++stt+': '
  for(var i=1;i<=n;i++)loigiai+=x[i]+', '
  document.getElementById('ketqua').innerHTML+=loigiai+'<br>'
  if(stt==7){
    for(var i=1;i<=n;i++)document.getElementById('v'+i).innerHTML=x[i]
  }
}
function giai(){
  init()
  f(1) //bắt đầu tìm xem x[1] điền cái gì
}


</script>
<style>
.box{
	position: absolute;
	margin-top: 600px;
	margin-left: -70px;
}
.cell{
width:30px;
height:20px;
text-align:center;
font-size:40px;
}
</style>
</head>
<body style="cursor: auto">
<h1>BÀI TOÁN LỤC GIÁC THẦN BÍ:</h1>
<h2>Xếp các số nguyên từ 1..19 vào các ô của lục giác thần bí cho tổng 6 hướng của lục giác đều bằng nhau.</h2>
<p style="font-size: 20px; color: #333;">Sau khi click vào Tìm lời giải ngay ta sẽ tìm được các cách sắp xếp phù hợp</p>
<button onclick="giai()" style="border-radius: 10px; background-color: brown; color: #333; ">Tìm lời giải ngay</button>
<div id="ketqua"></div>
<div class="box">
	<div class="cell ui-draggable ui-draggable-handle" id="v1" style="position: relative; left: 417px; top: -512px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v2" style="position: relative; left: 522px; top: -466px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v3" style="position: relative; left: 623px; top: -440px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v4" style="position: relative; left: 621px; top: -352px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v5" style="position: relative; left: 625px; top: -269px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v6" style="position: relative; left: 519px; top: -232px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v7" style="position: relative; left: 411px; top: -207px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v8" style="position: relative; left: 307px; top: -280px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v9" style="position: relative; left: 207px; top: -346px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v10" style="position: relative; left: 203px; top: -479px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v11" style="position: relative; left: 208px; top: -601px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v12" style="position: relative; left: 312px; top: -675px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v13" style="position: relative; left: 417px; top: -642px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v14" style="position: relative; left: 521px; top: -612px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v15" style="position: relative; left: 521px; top: -528px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v16" style="position: relative; left: 414px; top: -492px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v17" style="position: relative; left: 310px; top: -562px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v18" style="position: relative; left: 312px; top: -687px;"></div>
	<div class="cell ui-draggable ui-draggable-handle" id="v19" style="position: relative; left: 419px; top: -658px;"></div>
</div>
</body>
</html>